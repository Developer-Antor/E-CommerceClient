(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(3),s=c.n(a),i=c(33),r=c.n(i),l=(c(57),c(6)),o=(c(58),c(59),c(45)),d=c.n(o),j=c(14),u=Object(a.createContext)(),b=function(e){var t=e.reducer,c=e.initialState,s=e.children;return Object(n.jsx)(u.Provider,{value:Object(a.useReducer)(t,c),children:s})},h=function(){return Object(a.useContext)(u)},O=c(37),m=O.a.initializeApp({apiKey:"AIzaSyC1v7fTshJqhCLoGS7WDB3fJ56j2GI6d08",authDomain:"e-commerce-ff649.firebaseapp.com",projectId:"e-commerce-ff649",storageBucket:"e-commerce-ff649.appspot.com",messagingSenderId:"576597478212",appId:"1:576597478212:web:57b1c8fa676e6c94a5a511"}),p=O.a.auth(),x=m.firestore(),f=O.a.storage();var v=function(){var e=h(),t=Object(l.a)(e,2),c=t[0],a=c.basket,s=c.user;return t[1],Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)(j.b,{to:"/",children:Object(n.jsx)("div",{className:"header-icon",children:Object(n.jsx)("i",{class:"fas fa-home    "})})}),Object(n.jsxs)("div",{className:"header-nav",children:[Object(n.jsx)(j.b,{to:!s&&"/login",children:Object(n.jsxs)("div",{onClick:function(){s&&p.signOut()},className:"header-option",children:[Object(n.jsxs)("span",{className:"header-option-line-one",children:["Hello ",s?"".concat(s.displayName):"Guest"]}),Object(n.jsx)("span",{className:"header-option-line-two",children:s?"Sign Out":"Sign In"})]})}),Object(n.jsx)(j.b,{to:"/orders",children:Object(n.jsxs)("div",{className:"header-option",children:[Object(n.jsx)("span",{className:"header-option-line-one",children:"Returns"}),Object(n.jsx)("span",{className:"header-option-line-two",children:"& Orders"})]})}),Object(n.jsx)(j.b,{to:"/admin",children:Object(n.jsxs)("div",{className:"header-option",children:[Object(n.jsx)("span",{className:"header-option-line-one",children:"Are You"}),Object(n.jsx)("span",{className:"header-option-line-two",children:"Admin?"})]})}),Object(n.jsx)(j.b,{to:"/checkout",children:Object(n.jsxs)("div",{className:"header-option-basket",children:[Object(n.jsx)(d.a,{}),Object(n.jsx)("span",{className:"header-option-line-two header-basket-count",children:null===a||void 0===a?void 0:a.length})]})})]})]})},g=(c(71),c(72),c(73),c(49)),N=c.n(g);c(74);var S=function(e){var t=e.id,c=e.title,s=e.image,i=e.price,r=e.rating;Object(a.useEffect)((function(){N.a.init({duration:1e3})}),[]);var o=h(),d=Object(l.a)(o,2),j=(d[0].basket,d[1]);return Object(n.jsxs)("div",{"data-aos":"fade-in",className:"product",children:[Object(n.jsxs)("div",{className:"product-info",children:[Object(n.jsx)("p",{className:"product-desc",children:c}),Object(n.jsxs)("p",{className:"product-price",children:[Object(n.jsx)("small",{children:"$"}),Object(n.jsx)("strong",{children:i})]}),Object(n.jsx)("div",{className:"product-rating",children:Array(r).fill().map((function(e,t){return Object(n.jsx)("p",{children:Object(n.jsx)("i",{className:"fas fa-star"})})}))})]}),Object(n.jsx)("img",{className:"product-image",src:s,alt:""}),Object(n.jsx)("button",{onClick:function(){j({type:"ADD_TO_BASKET",item:{id:t,title:c,image:s,price:i,rating:r}})},className:"product-button",children:"Add To Cart"})]})};var k=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(!0),r=Object(l.a)(i,2),o=r[0],d=r[1];return Object(a.useEffect)((function(){x.collection("products").onSnapshot((function(e){s(e.docs.map((function(e){return e.data()}))),d(!1)}))}),[c]),Object(n.jsx)("div",{children:o?Object(n.jsx)("h1",{children:"Fire\ud83d\udd25 Loading..."}):Object(n.jsx)("div",{className:"home",children:Object(n.jsx)("div",{className:"home-container",children:Object(n.jsx)("div",{className:"home-row",children:c.map((function(e){return Object(n.jsx)(S,{id:e.id,title:e.title,price:e.price,rating:e.rating,image:e.image})}))})})})})},y=c(11);c(75);var A=function(e){var t=e.id,c=e.title,a=e.price,s=e.rating,i=e.image,r=h(),o=Object(l.a)(r,2),d=(o[0].basket,o[1]);return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"checkout-product",children:[Object(n.jsxs)("div",{className:"checkout-product-info",children:[Object(n.jsx)("div",{className:"checkout-product-title",children:c}),Object(n.jsxs)("div",{className:"checkout-product-price",children:["$",Object(n.jsx)("span",{children:a})]}),Object(n.jsx)("div",{className:"checkout-product-rating",children:Array(s).fill().map((function(e,t){return Object(n.jsx)("p",{children:Object(n.jsx)("i",{className:"fas fa-star"})})}))})]}),Object(n.jsx)("img",{src:i,className:"checkout-product-img"}),Object(n.jsx)("button",{onClick:function(){d({type:"REMOVE_FROM_BASKET",id:t})},className:"checkout-product-button",children:"Remove Item"})]})})},C=(c(76),c(50)),E=c.n(C),D=c(42),T=c(21),w=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return e+parseInt(t.price)}),0)},R=function(e,t){switch(t.type){case"ADD_TO_BASKET":return Object(T.a)(Object(T.a)({},e),{},{basket:[].concat(Object(D.a)(e.basket),[t.item])});case"REMOVE_FROM_BASKET":var c=e.basket.findIndex((function(e){return e.id===t.id})),n=Object(D.a)(e.basket);return c>=0?n.splice(c,1):console.log(c+"Nothing"),Object(T.a)(Object(T.a)({},e),{},{basket:n});case"SET_USER":return Object(T.a)(Object(T.a)({},e),{},{user:t.user});case"NEW_ORDER":return Object(T.a)(Object(T.a)({},e),{},{isNewOrder:!0});case"OLD_ORDER":return Object(T.a)(Object(T.a)({},e),{},{isNewOrder:!1});default:return e}};var P=function(){var e=h(),t=Object(l.a)(e,2),c=t[0].basket,a=(t[1],Object(y.e)());return Object(n.jsxs)("div",{className:"subtotal",children:[Object(n.jsx)(E.a,{renderText:function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("p",{children:["Subtotal (",c.length," items): ",Object(n.jsx)("strong",{children:e})]}),Object(n.jsxs)("small",{className:"subtotal__gift",children:[Object(n.jsx)("input",{type:"checkbox"})," This order contains a gift"]})]})},decimalScale:2,value:w(c),displayType:"text",thousandSeparator:!0,prefix:"$"}),Object(n.jsx)("button",{onClick:function(e){a.push("/payment")},children:"Proceed To Checkout"})]})};var I=function(){var e=h(),t=Object(l.a)(e,2),c=t[0],a=c.basket,s=c.user;return t[1],Object(n.jsxs)("div",{className:"checkout",children:[Object(n.jsxs)("div",{className:"checkout-left",children:[Object(n.jsxs)("h1",{className:"checkout-title",children:["Hello ",s?"".concat(s.displayName):"","! Your Product Basket\ud83d\udd25"]}),Object(n.jsx)("div",{className:"checkout-product-container",children:a.map((function(e){return Object(n.jsx)(A,{id:e.id,title:e.title,price:e.price,rating:e.rating,image:e.image})}))})]}),Object(n.jsx)("div",{className:"checkout-right",children:Object(n.jsx)(P,{})})]})};c(78);var _=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(""),r=Object(l.a)(i,2),o=r[0],d=r[1],j=Object(y.e)();return Object(n.jsx)("div",{className:"login",children:Object(n.jsxs)("div",{className:"login-container",children:[Object(n.jsxs)("div",{className:"login-container-link",children:[Object(n.jsx)("input",{className:"login-email",type:"email",placeholder:"Email",value:c,onChange:function(e){s(e.target.value)}}),Object(n.jsx)("input",{value:o,className:"login-pass",type:"password",placeholder:"Password",onChange:function(e){d(e.target.value)}}),Object(n.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),p.signInWithEmailAndPassword(c,o).then((function(e){j.push("/"),d(""),s("")})).catch((function(e){alert(e.message)}))},children:"Sign In"})]}),Object(n.jsx)("div",{className:"create-account-link",children:Object(n.jsx)("a",{onClick:function(e){var t=prompt("Please Give Your User Name:");e.preventDefault(),p.createUserWithEmailAndPassword(c,o).then((function(e){e.user.updateProfile({displayName:t}),console.log(e.user),e&&j.push("/"),d(""),s("")})).catch((function(e){return alert(e.message)}))},href:"",children:"Create Account"})})]})})};c(79);var U=function(){var e=Date.now(),t=h(),c=Object(l.a)(t,2),s=c[0],i=s.user,r=s.basket,o=(s.isNewOrder,c[1],Object(a.useState)("")),d=Object(l.a)(o,2),u=d[0],b=d[1],O=Object(y.e)();return console.log(e),Object(n.jsx)("div",{className:"payment",children:Object(n.jsxs)("div",{className:"payment-container",children:[Object(n.jsxs)("h1",{children:["Checkout ",Object(n.jsx)(j.b,{to:"/checkout",children:null===r||void 0===r?void 0:r.length})," Items"]}),Object(n.jsxs)("div",{className:"payment-section",children:[Object(n.jsxs)("div",{className:"payment-title",children:[Object(n.jsx)("h1",{children:"Delivery Address\ud83d\ude80"})," "]}),Object(n.jsxs)("div",{className:"payment-address",children:[Object(n.jsx)("p",{children:null===i||void 0===i?void 0:i.email}),Object(n.jsx)("p",{children:u}),Object(n.jsx)("button",{onClick:function(){var e=prompt("Please Give Your Address");e&&b(e)},className:"address-button",children:u?"Change Address":"Select Address"})]})]}),Object(n.jsx)("div",{className:"payment-item",children:r.map((function(e){return Object(n.jsx)(A,{id:e.id,title:e.title,price:e.price,rating:e.rating,image:e.image})}))}),Object(n.jsxs)("div",{className:" details payment-section",children:[Object(n.jsx)("div",{className:"payment-title",children:Object(n.jsx)("h1",{children:"Payment Method \ud83d\udcb5 "})}),Object(n.jsx)("div",{className:"payment-details",children:Object(n.jsx)("form",{onSubmit:function(t){t.preventDefault(),null!=i&&null!=u&&0!==r.length?x.collection("orders").add({timestamp:e,uid:i.uid,address:u,items:r.length,total:w(r)}).then((function(){alert("Order Added"),O.push("/orders")})):""===u?alert("Please Give Address"):null==i?alert("Signin To Pay"):alert("Please Add Product")},action:"",children:Object(n.jsxs)("button",{type:"submit",children:["Pay $",w(r),"\ud83d\udd25"]})})})]})]})})};c(80);var B=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(0),r=Object(l.a)(i,2),o=r[0],d=r[1],j=Object(a.useState)(0),u=Object(l.a)(j,2),b=u[0],h=u[1],O=Object(a.useState)(null),m=Object(l.a)(O,2),p=m[0],v=m[1],g=Object(a.useState)(""),N=Object(l.a)(g,2),S=N[0],k=N[1],y=Object(a.useState)(0),A=Object(l.a)(y,2),C=A[0],E=A[1],D=Object(a.useState)(0),T=Object(l.a)(D,2),w=T[0],R=T[1],P=Object(a.useState)(""),I=Object(l.a)(P,2),_=I[0],U=I[1];return Object(n.jsxs)("div",{className:"admin",children:[Object(n.jsxs)("form",{action:"",children:[Object(n.jsx)("input",{onChange:function(e){s(e.target.value)},value:c,placeholder:"Title",type:"text"}),Object(n.jsx)("input",{onChange:function(e){d(e.target.value)},value:o,placeholder:"Price",type:"number"}),Object(n.jsx)("input",{onChange:function(e){h(parseInt(e.target.value))},value:b,placeholder:"Rating",type:"number"}),Object(n.jsx)("input",{onChange:function(e){e.target.files[0]&&v(e.target.files[0])},type:"file"}),Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),f.ref("images/".concat(p.name)).put(p).on("state_changed",(function(e){}),(function(e){alert(e.message)}),(function(){f.ref("images").child(p.name).getDownloadURL().then((function(e){x.collection("products").add({title:c,price:o,image:e,rating:b})})),d(0),v(null),h(0),s("")}))},type:"submit",children:"Submit"})]}),Object(n.jsx)("h1",{children:"Or Use Url\ud83d\udd25"}),Object(n.jsxs)("form",{action:"",children:[Object(n.jsx)("input",{onChange:function(e){k(e.target.value)},value:S,placeholder:"Title",type:"text"}),Object(n.jsx)("input",{onChange:function(e){E(e.target.value)},value:C,placeholder:"Price",type:"number"}),Object(n.jsx)("input",{onChange:function(e){R(parseInt(e.target.value))},value:w,placeholder:"Rating",type:"number"}),Object(n.jsx)("input",{onChange:function(e){U(e.target.value)},value:_,placeholder:"Url",type:"text"}),Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),x.collection("products").add({title:S,price:C,image:_,rating:w}).then((function(){alert("Added"),E(0),U(""),R(0),k("")}))},type:"submit",children:"Submit"})]})]})},L=c(100);c(81);var M=function(){var e=Object(y.e)();return Object(n.jsx)("div",{className:"not-admin",children:Object(n.jsxs)("div",{className:"container-not",children:[Object(n.jsx)("h1",{children:"Sorry!You Are Not Admin."}),Object(n.jsx)(L.a,{onClick:function(){e.push("/login")},children:"Login Ase Admin"})]})})};c(82);var Y=function(){var e=h(),t=Object(l.a)(e,2),c=t[0].user,s=(t[1],Object(a.useState)([])),i=Object(l.a)(s,2),r=i[0],o=i[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){x.collection("orders").orderBy("timestamp","asc").onSnapshot((function(e){o(e.docs.map((function(e){if(c.uid===e.data().uid)return e.data()})));var t=r.filter((function(e){return null!=e}));o(t),b(!0)}))}),[r]),Object(n.jsx)("div",{children:u?Object(n.jsx)("div",{className:"orders",children:Object(n.jsx)("div",{className:"orders-container",children:r.map((function(e){return Object(n.jsxs)("div",{className:"order",children:[Object(n.jsx)("div",{className:"order-address",children:Object(n.jsxs)("h2",{children:["Address \ud83d\udce2 : ",null===e||void 0===e?void 0:e.address]})}),Object(n.jsx)("div",{className:"order-products",children:Object(n.jsxs)("h2",{children:["Items You Ordered \ud83d\udd25 : ",null===e||void 0===e?void 0:e.items]})}),Object(n.jsx)("div",{className:"order-payment",children:Object(n.jsxs)("h2",{children:["Total Amount \ud83d\udcb5 : ",null===e||void 0===e?void 0:e.total]})})]})}))})}):Object(n.jsx)("h1",{children:"\ud83c\udfa4Loading\ud83d\udd25\ud83d\udd25\ud83d\udd25"})})};var G=function(){var e=h(),t=Object(l.a)(e,2),c=t[0].user,s=t[1],i=Object(a.useState)(!0),r=Object(l.a)(i,2),o=r[0],d=r[1];return Object(a.useEffect)((function(){p.onAuthStateChanged((function(e){console.log("USER",e),e?(s({type:"SET_USER",user:e}),d(!1)):(s({type:"SET_USER",user:null}),d(!1))}))}),[]),Object(n.jsx)("div",{children:o?Object(n.jsx)("h1",{children:"Loading..."}):Object(n.jsx)(j.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(v,{}),Object(n.jsx)(y.a,{exact:!0,path:"/",children:Object(n.jsx)(k,{})}),Object(n.jsx)(y.a,{path:"/checkout",children:Object(n.jsx)(I,{})}),Object(n.jsx)(y.a,{path:"/login",children:Object(n.jsx)(_,{})}),Object(n.jsx)(y.a,{path:"/payment",children:Object(n.jsx)(U,{})}),Object(n.jsx)(y.a,{path:"/admin",children:"DHq57sXeDLWxE58J7VZRDM1WDHj1"!==(null===c||void 0===c?void 0:c.uid)?Object(n.jsx)(M,{}):Object(n.jsx)(B,{})}),Object(n.jsx)(y.a,{path:"/orders",children:c?Object(n.jsx)(Y,{}):Object(n.jsx)("h1",{children:"You Have To Signin To See Orders"})})]})})})};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(b,{initialState:{basket:[],user:null,isNewOrder:!1},reducer:R,children:Object(n.jsx)(G,{})})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.d641f656.chunk.js.map